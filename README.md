# Dream Driven Bookings โ Full-Stack Accommodation Platform with DDD, AI & Admin Panel

![Node.js](https://img.shields.io/badge/Node.js-18.x-green)
![MongoDB](https://img.shields.io/badge/MongoDB-Atlas-brightgreen)
![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)
![Status](https://img.shields.io/badge/status-In%20Development-yellow)

---


## ๐ Table of Contents / Tabla de Contenidos

**English**
- [Overview](#overview)
- [Architecture](#folder-structure--ddd-architecture)
- [Tech Stack](#tech-stack)
- [Features](#key-features)
- [AI Integration](#ai--automation)
- [User Flow](#app-navigation--user-flow-diagram)
- [Getting Started](#-getting-started)
- [Deployment](#-deployment)
- [License](#-license)

**Espaรฑol**
- [Descripciรณn General](#descripciรณn-general)
- [Estructura de Carpetas y Arquitectura DDD](#estructura-de-carpetas-y-arquitectura-ddd)
- [Stack Tecnolรณgico](#stack-tecnolรณgico)
- [Funcionalidades Clave](#funcionalidades-clave)
- [IA y Automatizaciรณn](#ia-y-automatizaciรณn)
- [Diagrama de Navegaciรณn y Flujo de Usuario](#diagrama-de-navegaciรณn-y-flujo-de-usuario)
- [Cรณmo Empezar](#cรณmo-empezar)
- [Despliegue](#despliegue)
- [Licencia](#licencia)

---

## English

### Overview
Dream Driven Bookings is a full-stack accommodation and booking platform built with a strong focus on Domain-Driven Design (DDD), clean architecture, and modern web technologies. It supports guests, hosts, and admins, and features intelligent AI-powered recommendations for users.

---

### Folder Structure & DDD Architecture

```
/UF1845-DDD
โโโ src/
โ   โโโ accommodations/
โ   โ   โโโ api/            # Express route handlers/controllers
โ   โ   โโโ application/    # Application services/use cases
โ   โ   โโโ domain/         # Domain models, repositories, business logic
โ   โ   โโโ infrastructure/ # Data access, external APIs (e.g., Gemini)
โ   โ   โโโ models/         # Mongoose schemas
โ   โ   โโโ utils/          # Utilities
โ   โโโ bookings/
โ   โ   โโโ api/
โ   โ   โโโ application/
โ   โ   โโโ domain/
โ   โ   โโโ infrastructure/
โ   โ   โโโ models/
โ   โ   โโโ utils/
โ   โโโ users/
โ   โ   โโโ api/
โ   โ   โโโ application/
โ   โ   โโโ domain/
โ   โ   โโโ infrastructure/
โ   โ   โโโ models/
โ   โโโ auth/                # Authentication logic
โ   โโโ config/              # DB, cloud, and middleware config
โ   โโโ shared/              # Shared utilities (e.g., amenity icons)
โ   โโโ views/               # EJS templates (UI)
โ   โโโ web/                 # Web routes (admin, public)
โโโ public/                  # Static assets (CSS, images, videos)
โโโ package.json             # Project metadata and dependencies
โโโ ...
```

---

### DDD Layers
- `domain/`: Pure business logic, entities, value objects, interfaces.
- `application/`: Use cases, service orchestration.
- `infrastructure/`: Data access (MongoDB), external APIs (Gemini), persistence.
- `api/`: Express route handlers/controllers.
- `models/`: Mongoose schemas for MongoDB.

---

### Tech Stack
- **Backend:** Node.js, Express.js, MongoDB, Mongoose, dotenv, express-session, connect-mongo
- **Frontend:** EJS (server-side rendering), Bootstrap 5, FontAwesome, custom CSS
- **AI/Automation:** Google Gemini API (intelligent filtering, recommendations)
- **File Uploads:** Multer, Cloudinary
- **PDF Generation:** PDFKit
- **Other:** bcrypt, method-override, node-fetch

---

### Key Features
- Modular DDD-based architecture for scalability and maintainability
- User roles: Guest, Host, Admin
- Secure authentication and session management
- Full CRUD (Create, Read, Update, Delete) for accommodations
- Booking flow with date/guest selection, price calculation, and PDF confirmation
- Admin dashboard for platform management
- AI-powered features:
  - Natural language filtering (Gemini)
  - Cultural/Activity recommendations after booking
- Responsive, modern UI with Bootstrap
- Form validation and error handling
- File/image upload for accommodations
- PDF download for booking confirmations

---

### ๐ค AI & Automation
- **Google Gemini API**:
  1. **Intelligent Filtering**: Filter accommodations using natural language prompts (e.g., "pet-friendly with pool in Cรกdiz").
  2. **Cultural Recommendations**: Get AI-generated activity suggestions for your travel destination and dates.
- **Prompt Engineering**: Optimized for concise, structured results, with fallback/error handling.

---

### ๐งญ App Navigation & User Flow Diagram
```mermaid
flowchart TD
    Start([Landing Page]) --> LoginOrRegister{Login/Register}
    LoginOrRegister -- Guest --> GuestDashboard
    LoginOrRegister -- Host --> HostDashboard
    LoginOrRegister -- Admin --> AdminDashboard
    GuestDashboard -->|Browse| AccommodationsList
    AccommodationsList -->|View Details| AccommodationDetails
    AccommodationDetails -->|Book| BookingFlow
    BookingFlow -->|Confirm| BookingConfirmation
    BookingConfirmation -->|Get AI Recommendations| AIRecs[Gemini Recommendations]
    GuestDashboard -->|My Bookings| MyBookings
    HostDashboard -->|My Accommodations| MyAccommodations
    HostDashboard -->|Create/Edit| AccommodationCRUD
    AdminDashboard -->|Manage Users/Hosts| AdminUserMgmt
    AdminDashboard -->|Platform Stats| AdminStats
```

---

### ๐ Getting Started

```bash
# 1. Clone the repo
git clone https://github.com/yourusername/dream-driven-bookings.git

# 2. Install dependencies
cd UF1845-DDD
npm install

# 3. Configure environment variables
cp .env.example .env
# Fill in your MongoDB, Cloudinary and Gemini credentials

# 4. (Optional) Seed admin user
node src/seed/admin.js

# 5. Start development server
npm run dev
```

---

### ๐ Deployment
- Compatible with Render, Vercel or Docker
- Uses `.env` for secrets
- Static assets in `/public`
- Server-side views via EJS

---

### ๐ License
MIT License โ see [LICENSE](./LICENSE)

---

### ๐โโ๏ธ Disclaimer
This is a personal portfolio project. External services may have usage limits or require payment. No production warranties implied.

---

### ๐ฌ Contact
Made with โค๏ธ by [Alejandro Noriega Guerra](https://github.com/alenorgue)

---

## Espaรฑol

### Descripciรณn General
Dream Driven Bookings es una plataforma full-stack de reservas y alojamientos, construida con enfoque en Domain-Driven Design (DDD), arquitectura limpia y tecnologรญas web modernas. Soporta huรฉspedes, anfitriones y administradores, e incluye recomendaciones inteligentes impulsadas por IA.

---

### Estructura de Carpetas y Arquitectura DDD

```
/UF1845-DDD
โโโ src/
โ   โโโ accommodations/
โ   โ   โโโ api/            # Controladores y rutas Express
โ   โ   โโโ application/    # Casos de uso y servicios de aplicaciรณn
โ   โ   โโโ domain/         # Modelos de dominio, lรณgica de negocio, interfaces
โ   โ   โโโ infrastructure/ # Acceso a datos, APIs externas (Gemini)
โ   โ   โโโ models/         # Esquemas Mongoose
โ   โ   โโโ utils/          # Utilidades
โ   โโโ bookings/
โ   โ   โโโ api/
โ   โ   โโโ application/
โ   โ   โโโ domain/
โ   โ   โโโ infrastructure/
โ   โ   โโโ models/
โ   โ   โโโ utils/
โ   โโโ users/
โ   โ   โโโ api/
โ   โ   โโโ application/
โ   โ   โโโ domain/
โ   โ   โโโ infrastructure/
โ   โ   โโโ models/
โ   โโโ auth/                # Lรณgica de autenticaciรณn
โ   โโโ config/              # Configuraciรณn de DB, cloud y middleware
โ   โโโ shared/              # Utilidades compartidas (iconos, etc.)
โ   โโโ views/               # Plantillas EJS (UI)
โ   โโโ web/                 # Rutas web (admin, pรบblico)
โโโ public/                  # Recursos estรกticos (CSS, imรกgenes, videos)
โโโ package.json             # Dependencias y metadatos
โโโ ...
```

---

### Capas DDD
- `domain/`: Lรณgica de negocio pura, entidades, objetos de valor, interfaces
- `application/`: Casos de uso, orquestaciรณn de servicios
- `infrastructure/`: Persistencia (MongoDB), APIs externas (Gemini)
- `api/`: Controladores y rutas Express
- `models/`: Esquemas Mongoose para MongoDB

---

### Stack Tecnolรณgico
- **Backend:** Node.js, Express.js, MongoDB, Mongoose, dotenv, express-session, connect-mongo
- **Frontend:** EJS (renderizado en servidor), Bootstrap 5, FontAwesome, CSS personalizado
- **IA/Automatizaciรณn:** Google Gemini API (filtros inteligentes, recomendaciones)
- **Subida de Archivos:** Multer, Cloudinary
- **PDF:** PDFKit
- **Otros:** bcrypt, method-override, node-fetch

---

### Funcionalidades Clave
- Arquitectura modular DDD para escalabilidad y mantenibilidad
- Roles: Huรฉsped, Anfitriรณn, Admin
- Autenticaciรณn segura y gestiรณn de sesiรณn
- CRUD completo para alojamientos
- Flujo de reserva con fechas, cรกlculo de precio y PDF
- Panel de administraciรณn para gestiรณn de la plataforma
- IA integrada:
  - Filtrado inteligente por lenguaje natural (Gemini)
  - Recomendaciones culturales tras reservar
- UI moderna y responsive con Bootstrap
- Validaciรณn de formularios y gestiรณn de errores
- Subida de imรกgenes para alojamientos
- Descarga de PDF de confirmaciรณn

---

### ๐ค IA y Automatizaciรณn
- **Google Gemini API**:
  1. **Filtrado inteligente**: prompts como "pet-friendly con piscina en Cรกdiz"
  2. **Recomendaciones culturales**: actividades segรบn ciudad y fechas de viaje
- **Ingenierรญa de prompts**: Respuestas estructuradas, con fallback ante errores

---

### ๐งญ Diagrama de Navegaciรณn y Flujo de Usuario
```mermaid
flowchart TD
    Start([Pรกgina principal]) --> LoginOrRegister{Login/Registro}
    LoginOrRegister -- Huรฉsped --> GuestDashboard
    LoginOrRegister -- Anfitriรณn --> HostDashboard
    LoginOrRegister -- Admin --> AdminDashboard
    GuestDashboard -->|Explorar| AccommodationsList
    AccommodationsList -->|Ver detalles| AccommodationDetails
    AccommodationDetails -->|Reservar| BookingFlow
    BookingFlow -->|Confirmar| BookingConfirmation
    BookingConfirmation -->|Obtener recomendaciones IA| AIRecs[Recomendaciones Gemini]
    GuestDashboard -->|Mis reservas| MyBookings
    HostDashboard -->|Mis alojamientos| MyAccommodations
    HostDashboard -->|Crear/Editar| AccommodationCRUD
    AdminDashboard -->|Gestionar usuarios| AdminUserMgmt
    AdminDashboard -->|Estadรญsticas| AdminStats
```

---

### ๐ Cรณmo Empezar

```bash
# 1. Clonar el repositorio
git clone https://github.com/yourusername/dream-driven-bookings.git

# 2. Instalar dependencias
cd UF1845-DDD
npm install

# 3. Configurar variables de entorno
cp .env.example .env
# Aรฑadir MongoDB, Cloudinary y Gemini keys

# 4. (Opcional) Crear usuario admin
node src/seed/admin.js

# 5. Iniciar servidor de desarrollo
npm run dev
```

---

### ๐ Despliegue
- Compatible con Render, Vercel o Docker
- Usa `.env` para credenciales
- Recursos estรกticos en `/public`
- Plantillas en EJS

---

### ๐ Licencia
Licencia MIT โ ver archivo [LICENSE](./LICENSE)

---

### ๐โโ๏ธ Aviso Legal
Proyecto educativo/personal. Los servicios externos pueden tener lรญmites o requerir suscripciones.

---

### ๐ฌ Contacto
Hecho con โค๏ธ por [Alejandro Noriega Guerra](https://github.com/alenorgue)
